<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OMR Competitor - Protected Exam</title>
  <style>
    :root { --blue: #007bff; --bg: #000; --card: #111; --accent: #60a5fa; }
    body {
      margin: 0; font-family: 'Noto Sans Bengali', sans-serif;
      background: var(--bg); color: #fff; -webkit-font-smoothing:antialiased;
    }
    nav {
      background: var(--blue); padding: 12px 16px; display:flex; align-items:center; justify-content:space-between;
    }
    nav .brand { font-weight:700; font-size:18px; }
    nav .links a { color:#fff; text-decoration:none; margin-left:12px; font-weight:600; }
    .wrap { max-width:900px; margin:28px auto; padding:12px; }
    .card { background: var(--card); border:1px solid rgba(96,165,250,0.12); border-radius:10px; padding:16px; }
    .center { text-align:center; }
    input[type="text"] { width:90%; max-width:360px; padding:10px; border-radius:6px; border:1px solid #333; background:#000; color:#fff; }
    button { background:var(--blue); color:#fff; border:none; padding:10px 18px; border-radius:8px; cursor:pointer; font-weight:700; }
    button:disabled { background:#555; cursor:not-allowed; }
    .timer { font-size:20px; color:#ffcc00; margin-top:8px; }
    img.q { width:90%; max-width:640px; border-radius:8px; border:1px solid #333; margin-top:12px; }
    .note { font-size:14px; color:#ddd; margin-top:8px; }
    .protected { margin-top:10px; padding:10px; border-radius:8px; background:rgba(255,255,255,0.03); color:#f0f7ff; border:1px dashed rgba(96,165,250,0.12); }
    .danger { color:#ff7a7a; font-weight:700; }
    .omr-grid { margin-top:16px; }
    .question { margin-bottom:10px; padding:8px; border-bottom:1px solid rgba(255,255,255,0.08); }
    .question label { margin-right:10px; cursor:pointer; }
    @media (max-width:600px){ .wrap{ padding:8px } img.q{ width:100% } }
  </style>
</head>
<body>
  <nav>
    <div class="brand">OMR Competitor</div>
    <div class="links">
      <a href="update.html">Update</a>
      <a href="registration.html">Registration</a>
      <a href="exam.html">Exam</a>
    </div>
  </nav>

  <div class="wrap">
    <div class="card center" id="loginCard">
      <h2>‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶Ø‡¶º ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
      <p class="note">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶® ‚Äî ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶ø‡¶§ ‡¶∏‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡•§</p>
      <input id="serialInput" type="text" placeholder="‡¶∏‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
      <div style="height:10px"></div>
      <button id="enterBtn">‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
      <div class="protected note" style="text-align:left; max-width:700px; margin:12px auto;">
        <div style="font-weight:700">‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ ‚Äî ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º</div>
        <ul style="margin:8px 0 0 16px; padding:0; color:#ccc;">
          <li>Screenshot ‡¶®‡¶ø‡¶≤‡ßá‡¶á ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§</li>
          <li>Time ‡¶∂‡ßá‡¶∑ ‡¶π‡¶≤‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ submit ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá‡•§</li>
          <li>Right-click / Tab change / DevTools ‡¶®‡¶ø‡¶∑‡¶ø‡¶¶‡ßç‡¶ß‡•§</li>
        </ul>
      </div>
    </div>

    <div class="card" id="examCard" style="display:none; margin-top:18px;">
      <div class="center">
        <h2>‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶ö‡¶≤‡¶õ‡ßá</h2>
        <div class="timer">‚è∞ ‡¶Ö‡¶¨‡¶∂‡¶ø‡¶∑‡ßç‡¶ü ‡¶∏‡¶Æ‡¶Ø‡¶º: <span id="timeDisplay">--:--</span></div>
        <p class="note">‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®‡¶™‡¶§‡ßç‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‡¶ì ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡¶ø‡¶®‡•§</p>
        <img class="q" id="questionImage" src="imagesquestion1.jpg" alt="Question paper">
        <img class="q" id="questionImage" src="imagesquestion2.jpg" alt="Question paper">
        <img class="q" id="questionImage" src="imagesquestion3.jpg" alt="Question paper">
        <img class="q" id="questionImage" src="imagesquestion4.jpg" alt="Question paper">
        <img class="q" id="questionImage" src="imagesquestion5.jpg" alt="Question paper">
      </div>

      <div style="margin-top:14px;" class="center">
        <h3 style="color:var(--accent)">OMR ‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶™‡¶§‡ßç‡¶∞</h3>
        <form id="omrForm" class="omr-grid"></form>
        <button id="submitBtn" type="button" style="margin-top:14px;">Submit</button>
        <p id="status" class="note" style="margin-top:10px"></p>
      </div>
    </div>
  </div>

<script>
const allowedSerials = ["1250716","25026097","25026077","25026001","250260974","2502686","25026056","250260344","2502609822","250260236","25026899","2502601"];
const examDurationMinutes = 30; 
const whatsappNumber = "+8801989615778"; 

let timeLeft = 0, examTimer = null, studentSerial = null, submitted = false;

const omrForm = document.getElementById('omrForm');
for (let i = 1; i <= 30; i++) {
  const div = document.createElement('div');
  div.className = 'question';
  div.innerHTML = `
    <span>‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ${i}:</span>
    <label><input type="radio" name="q${i}" value="A"> A</label>
    <label><input type="radio" name="q${i}" value="B"> B</label>
    <label><input type="radio" name="q${i}" value="C"> C</label>
    <label><input type="radio" name="q${i}" value="D"> D</label>
  `;
  omrForm.appendChild(div);
}

const loginCard = document.getElementById('loginCard');
const examCard = document.getElementById('examCard');
const enterBtn = document.getElementById('enterBtn');
const serialInput = document.getElementById('serialInput');
const timeDisplay = document.getElementById('timeDisplay');
const submitBtn = document.getElementById('submitBtn');
const statusEl = document.getElementById('status');

enterBtn.onclick = () => {
  const s = serialInput.value.trim();
  const today = new Date().toISOString().split('T')[0]; // ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ 2025/11/29 ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡ßá

  // ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßã
  const lastExam = localStorage.getItem(`exam_${s}`);
  if (lastExam === today) {
    alert("‚ö†Ô∏è ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶Ø‡¶º ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá‡¶á ‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®!");
    return;
  }

  if (!allowedSerials.includes(s)) return alert("‡¶≠‡ßÅ‡¶≤ ‡¶∏‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤!");
  studentSerial = s;

  // ‡¶≤‡¶ó‡¶á‡¶®‡ßá‡¶∞ ‡¶™‡¶∞ ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßã
  localStorage.setItem(`exam_${s}`, today);
  
  startExam();
};

function startExam(){
  loginCard.style.display="none";
  examCard.style.display="block";
  timeLeft = examDurationMinutes*60;
  examTimer=setInterval(tick,1000);
  updateTime();
}

function tick(){
  if(timeLeft<=0){
    clearInterval(examTimer);
    disableExam("‡¶∏‡¶Æ‡ßü ‡¶∂‡ßá‡¶∑!");
    return;
  }
  timeLeft--; updateTime();
}
function updateTime(){
  const m=Math.floor(timeLeft/60), s=timeLeft%60;
  timeDisplay.textContent=`${m}:${s<10?'0':''}${s}`;
}

submitBtn.onclick = ()=>manualSubmit();

function manualSubmit(){
  if(submitted){ alert("‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá‡¶á ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!"); return; }
  const answers = [];
  for(let i=1;i<=30;i++){
    const sel=document.querySelector(`input[name="q${i}"]:checked`);
    answers.push(`${i}:${sel?sel.value:'-'}`);
  }
  const now=new Date().toLocaleString();
  const msg=`üÜî ‡¶∏‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤: ${studentSerial}\nüìÖ ‡¶∏‡¶Æ‡ßü: ${now}\nüìã ‡¶â‡¶§‡ßç‡¶§‡¶∞: ${answers.join(', ')}`;
  window.open(`https://wa.me/${whatsappNumber}?text=${encodeURIComponent(msg)}`,'_blank');
  statusEl.textContent='‚úÖ ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!';
  submitted=true;
}

function disableExam(reason){
  if(submitted) return;
  submitted=true;
  document.querySelectorAll('input, button').forEach(el=>el.disabled=true);
  statusEl.textContent='üö´ '+reason+' ‚Äî ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶∂‡ßá‡¶∑‡•§';
  statusEl.style.color='#ff7777';
}

// protection ‚Äî screenshot detect
document.addEventListener('keyup', e=>{
  if(e.key==='PrintScreen'||e.keyCode===44){
    alert('‚ùå Screenshot ‡¶∂‡¶®‡¶æ‡¶ï‡ßç‡¶§! ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶¨‡¶®‡ßç‡¶ß‡•§');
    disableExam("Screenshot ‡¶∂‡¶®‡¶æ‡¶ï‡ßç‡¶§");
  }
});
document.addEventListener('contextmenu',e=>e.preventDefault());
document.addEventListener('visibilitychange',()=>{ if(document.hidden){ disableExam("Tab ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶∂‡¶®‡¶æ‡¶ï‡ßç‡¶§"); } });
window.addEventListener('blur',()=>setTimeout(()=>{if(!document.hasFocus())disableExam("Window ‡¶´‡ßã‡¶ï‡¶æ‡¶∏ ‡¶π‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶õ‡ßá");},800));
document.addEventListener('keydown',e=>{
  if(e.keyCode===123||(e.ctrlKey&&['u','U','s','S','p','P','i','I','j','J','c','C'].includes(e.key))){
    e.preventDefault(); disableExam("DevTools/Shortcut ‡¶∂‡¶®‡¶æ‡¶ï‡ßç‡¶§");
  }
});
</script>
</body>
</html>                                                                                                                                                                      